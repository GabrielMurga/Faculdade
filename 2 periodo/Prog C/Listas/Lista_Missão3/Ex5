#include <stdio.h>
#include <stdlib.h>
int** cria2d(int m, int n) {
	int i, j;
	int ** v;
	v = (int**)malloc(m * sizeof(int*));
	if (v == NULL) return NULL;
	for (i = 0; i < m; i++) {
		v[i] = (int*)malloc(n * sizeof(int));
		if (v[i] == NULL) return NULL;
		for (j = 0; j < n; j++) {
			v[i][j] = 0;
		}
	}
	return v; 
}
void imprime_vetor(int** vetor,int m, int n) {
	int i, j;
	for (i = 0; i < m; i++) {
		for (j = 0; j < n; j++) {
			printf(" %d " ,vetor[i][j]);
		}
		printf("\n");
	}return;
}
int** matriz_identidade(int ** vetor,int m, int n) {
	int i, j;
	for (i = 0; i < m; i++) {
		for (j = 0; j < n; j++) {
			if (i == j) {
				vetor[i][j] = 1;
			}
			else {
				vetor[i][j] = 0;
			}
		}
	} return vetor;
}
void Libera_memoria(int** v, int m) {
	for (int i = 0; i < m; i++) {
		free(v[i]);
	}free(v);
}
int main() {
	int** v;
	int m, n;
	n = m = 3;
	v = cria2d(m, n);

	printf("\nMatriz 3x3 criada: \n");
	imprime_vetor(v, m, n);
	printf(" \nMatriz Identidade: \n");
	imprime_vetor(matriz_identidade(v, m, n), m, n);
	Libera_memoria(v, m);
	printf(" \nMemoria Libereada!!! \n");

}
